# üîó YaCut - URL Shortener Service

–°–µ—Ä–≤–∏—Å –¥–ª—è —É–∫–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è —Å—Å—ã–ª–æ–∫ —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ REST API. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏ –∫–∞–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —Ç–∞–∫ –∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
yacut/
‚îú‚îÄ‚îÄ yacut/                      # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py            # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ models.py              # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (URLMap)
‚îÇ   ‚îú‚îÄ‚îÄ services.py            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π)
‚îÇ   ‚îú‚îÄ‚îÄ forms.py               # WTForms –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ views.py               # –í–µ–±-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ api_views.py           # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ error_handlers.py      # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ utils.py               # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ constants.py           # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ settings.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ static/                # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
‚îÇ   ‚îî‚îÄ‚îÄ templates/             # HTML —à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ migrations/                # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ tests/                     # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ requirements.txt           # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- pip
- Git

### Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```
Flask==3.0.2                  # –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
Flask-SQLAlchemy==3.1.1       # ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
Flask-Migrate==4.0.5          # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
Flask-WTF==1.2.1              # –§–æ—Ä–º—ã –∏ CSRF –∑–∞—â–∏—Ç–∞
WTForms==3.0.1                # –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
SQLAlchemy==2.0.21            # ORM
python-dotenv==1.0.0          # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
   ```bash
   git clone https://github.com/AlexSkripova/yacut.git
   cd yacut
   ```

2. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```bash
   python -m venv venv
   
   # Windows
   venv\Scripts\activate
   
   # Linux/macOS
   source venv/bin/activate
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
   ```bash
   pip install -r requirements.txt
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   
   –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
   ```env
   FLASK_APP=yacut
   FLASK_ENV=development
   SECRET_KEY=your-secret-key-here
   DATABASE_URI=sqlite:///yacut.db
   ```

5. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   flask db upgrade
   ```

6. **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   ```bash
   flask run
   ```

   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5000
   ```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
pytest tests/ -v
```


##  API

### –ë–∞–∑–æ–≤—ã–π URL
```
http://localhost:5000/api
```

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### POST /api/id/
–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "url": "https://example.com/very/long/url",
  "custom_id": "short" // –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
}
```

**–û—Ç–≤–µ—Ç (201):**
```json
{
  "url": "https://example.com/very/long/url",
  "short_link": "http://localhost:5000/short"
}
```

**–û—à–∏–±–∫–∏:**
- `400` - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞
- `400` - –ö–æ—Ä–æ—Ç–∫–∞—è —Å—Å—ã–ª–∫–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

#### GET /api/id/{short_id}/
–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏

**–û—Ç–≤–µ—Ç (200):**
```json
{
  "url": "https://example.com/very/long/url"
}
```

**–û—à–∏–±–∫–∏:**
- `404` - –£–∫–∞–∑–∞–Ω–Ω—ã–π id –Ω–µ –Ω–∞–π–¥–µ–Ω

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º ID:**
```bash
curl -X POST http://localhost:5000/api/id/ \
  -H "Content-Type: application/json" \
  -d '{"url": "https://github.com/AlexSkripova/yacut"}'
```

**–°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º ID:**
```bash
curl -X POST http://localhost:5000/api/id/ \
  -H "Content-Type: application/json" \
  -d '{"url": "https://github.com/AlexSkripova/yacut", "custom_id": "github"}'
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏:**
```bash
curl http://localhost:5000/api/id/github/
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ custom_id:** 16 —Å–∏–º–≤–æ–ª–æ–≤
- **–î–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã:** –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã (a-Z) –∏ —Ü–∏—Ñ—Ä—ã (0-9)
- **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π ID:** 6 —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** –∫–∞–∂–¥—ã–π –∫–æ—Ä–æ—Ç–∫–∏–π ID –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑

---

**–ê–≤—Ç–æ—Ä:** AlexSkripova  
**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/AlexSkripova/yacut